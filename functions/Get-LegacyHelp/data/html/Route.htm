<html dir="LTR" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:tool="http://www.microsoft.com/tooltip"><head><meta http-equiv="Content-Type" content="text/html; CHARSET=Windows-1252"><meta name="save" content="history"><title>Route</title><link rel="stylesheet" type="text/css" href="../local/Classic.css"><script src="../local/script.js"></script></head><body><div><input type="hidden" id="userDataCache" class="userDataStyle"><input type="hidden" id="hiddenScrollOffset"></div><img id="dropDownImage" style="display:none; height:0; width:0;" src="../local/drpdown.gif"><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../local/drpdown_orange.gif"><img id="collapseImage" style="display:none; height:0; width:0;" src="../local/collapse.gif"><img id="expandImage" style="display:none; height:0; width:0;" src="../local/exp.gif"><img id="copyImage" style="display:none; height:0; width:0;" src="../local/copycode.gif"><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../local/copycodeHighlight.gif"><div id="header"><table width="100%" id="topTable"><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText"></span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">Route</span></td></tr><tr id="headerTableRow3"><td><a href="#seeAlsoNoToggle" onclick="OpenSection(seeAlsoNoToggle)">See Also</a></td></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p>Applies To: Windows Server 2003 R2,Windows 7,Windows Vista,Windows Server 2003,Windows Server 2000,Windows XP,Windows Server 2008 R2,Windows Server 2008</p>
				<p>
				</p>
			<h2 class="heading">Route</h2><div id="sectionSection0" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
					<p xmlns="">Displays and modifies the entries in the local IP routing table. Used without parameters, <b>route</b> displays help.</p>
				</content><sections xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
					<div class="subSection" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
						</content><sections xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
							<div class="subSection" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
								</content><sections xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
									<h5 class="subHeading" xmlns="">Syntax</h5><div class="subSection" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
											<p xmlns="">
												<b>route</b> [<b>-f</b>] [<b>-p</b>] [<i>Command</i> [<i>Destination</i>] [<b>mask</b> <i>Netmask</i>] [<i>Gateway</i>] [<b>metric</b> <i>Metric</i>]] [<b>if</b> <i>Interface</i>]]</p>
										</content></div>
									<h5 class="subHeading" xmlns="">Parameters</h5><div class="subSection" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
											<dl xmlns=""><dt> <b>-f</b> </dt><br><dd>
													Clears the routing table of all entries that are not host routes (routes with a netmask of 255.255.255.255), the loopback network route (routes with a destination of 127.0.0.0 and a netmask of 255.0.0.0), or a multicast route (routes with a destination of 224.0.0.0 and a netmask of 240.0.0.0). If this is used in conjunction with one of the commands (such as <b>add</b>, <b>change</b>, or <b>delete</b>), the table is cleared prior to running the command.<p>
												</dd></dl><dl xmlns=""><dt> <b>-p</b> </dt><br><dd>
													When used with the <b>add</b> command, the specified route is added to the registry and is used to initialize the IP routing table whenever the TCP/IP protocol is started. By default, added routes are not preserved when the TCP/IP protocol is started. When used with the <b>print</b> command, the list of persistent routes is displayed. This parameter is ignored for all other commands. Persistent routes are stored in the registry location <b>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\PersistentRoutes</b>.<p>
												</dd></dl><dl xmlns=""><dt> <i>Command</i> </dt><br><dd>
													Specifies the command you want to run. The following table lists valid commands.<p>
													<h3 class="subHeading"></h3><table><tr>
																<th colspan="1">
																	Command
																</th>
																<th colspan="1">
																	Purpose
																</th>
															</tr><tr>
															<td colspan="1">
																<p>                   <b>add</b>                 </p>
															</td>
															<td colspan="1">
																<p>Adds a route.</p>
															</td>
														</tr><tr>
															<td colspan="1">
																<p>                   <b>change</b>                 </p>
															</td>
															<td colspan="1">
																<p>Modifies an existing route.</p>
															</td>
														</tr><tr>
															<td colspan="1">
																<p>                   <b>delete</b>                 </p>
															</td>
															<td colspan="1">
																<p>Deletes a route or routes.</p>
															</td>
														</tr><tr>
															<td colspan="1">
																<p>                   <b>print</b>                 </p>
															</td>
															<td colspan="1">
																<p>Prints a route or routes.</p>
															</td>
														</tr></table>
												</dd></dl><dl xmlns=""><dt> <i>Destination</i> </dt><br><dd>
													Specifies the network destination of the route. The destination can be an IP network address (where the host bits of the network address are set to 0), an IP address for a host route, or 0.0.0.0 for the default route.<p>
												</dd></dl><dl xmlns=""><dt> <b>mask</b> <i>Netmask</i> </dt><br><dd>
													Specifies the netmask (also known as a subnet mask) associated with the network destination. The subnet mask can be the appropriate subnet mask for an IP network address, 255.255.255.255 for a host route, or 0.0.0.0 for the default route. If omitted, the subnet mask 255.255.255.255 is used. Because of the relationship between the destination and the subnet mask in defining routes, the destination cannot be more specific than its corresponding subnet mask. In other words, there cannot be a bit set to 1 in the destination if the corresponding bit in the subnet mask is a 0.<p>
												</dd></dl><dl xmlns=""><dt> <i>Gateway</i> </dt><br><dd>
													Specifies the forwarding or next hop IP address over which the set of addresses defined by the network destination and subnet mask are reachable. For locally attached subnet routes, the gateway address is the IP address assigned to the interface that is attached to the subnet. For remote routes, available across one or more routers, the gateway address is a directly reachable IP address that is assigned to a neighboring router.<p>
												</dd></dl><dl xmlns=""><dt> <b>metric</b> <i>Metric</i> </dt><br><dd>
													Specifies an integer cost metric (ranging from 1 to 9999) for the route, which is used when choosing among multiple routes in the routing table that most closely match the destination address of a packet being forwarded. The route with the lowest metric is chosen. The metric can reflect the number of hops, the speed of the path, path reliability, path throughput, or administrative properties.<p>
												</dd></dl><dl xmlns=""><dt> <b>if</b> <i>Interface</i> </dt><br><dd>
													Specifies the interface index for the interface over which the destination is reachable. For a list of interfaces and their corresponding interface indexes, use the display of the <b>route print</b> command. You can use either decimal or hexadecimal values for the interface index. For hexadecimal values, precede the hexadecimal number with <b>0x</b>. When the <b>if</b> parameter is omitted, the interface is determined from the gateway address.<p>
												</dd></dl><dl xmlns=""><dt> <b>/?</b> </dt><br><dd>
													Displays help at the command prompt.<p>
												</dd></dl>
										</content></div>
									<h5 class="subHeading" xmlns="">Remarks</h5><div class="subSection" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
											<ul xmlns=""><li class="unordered">
													Large values in the <b>metric</b> column of the routing table are the result of allowing TCP/IP to automatically determine the metric for routes in the routing table based on the configuration of IP address, subnet mask, and default gateway for each LAN interface. Automatic determination of the interface metric, enabled by default, determines the speed of each interface and adjusts the metrics of routes for each interface so that the fastest interface creates the routes with the lowest metric. To remove the large metrics, disable the automatic determination of the interface metric from the advanced properties of the TCP/IP protocol for each LAN connection.     <br><br>
												</li><li class="unordered">
													    Names can be used for <i>Destination</i> if an appropriate entry exists in the local Networks file stored in the <i>systemroot</i>\System32\Drivers\Etc folder. Names can be used for the <i>gateway</i> as long as they can be resolved to an IP address through standard host name resolution techniques such as Domain Name System (DNS) queries, use of the local Hosts file stored in the <i>systemroot</i>\system32\drivers\etc folder, and NetBIOS name resolution.      <br><br>
												</li><li class="unordered">
													If the command is <b>print</b> or <b>delete</b>, the <i>Gateway</i> parameter can be omitted and wildcards can be used for the destination and gateway. The <i>Destination</i> value can be a wildcard value specified by an asterisk (*). If the destination specified contains an asterisk (*) or a question mark (?), it is treated as a wildcard and only matching destination routes are printed or deleted. The asterisk matches any string, and the question mark matches any single character. For example, 10.*.1, 192.168.*, 127.*, and *224* are all valid uses of the asterisk wildcard. <br><br>
												</li><li class="unordered">
													Using an invalid combination of a destination and subnet mask (netmask) value displays a "Route: bad gateway address netmask" error message. This error message appears when the destination contains one or more bits set to 1 in bit locations where the corresponding subnet mask bit is set to 0. To test this condition, express the destination and subnet mask using binary notation. The subnet mask in binary notation consists of a series of 1 bits, representing the network address portion of the destination, and a series of 0 bits, representing the host address portion of the destination. Check to determine whether there are bits in the destination that are set to 1 for the portion of the destination that is the host address (as defined by the subnet mask). <br><br>
												</li><li class="unordered">
													The <b>-p</b> parameter is only supported on the route command for Windows NT 4.0, Windows 2000, Windows Millennium Edition, Windows XP, and the Windows Server 2003  family. This parameter is not supported by the <b>route</b> command for Windows 95 or Windows 98. <br><br>
												</li><li class="unordered">
													    This command is available only if the <b>Internet Protocol (TCP/IP)</b> protocol is installed as a component in the properties of a network adapter in Network Connections.       <br><br>
												</li></ul>
										</content></div>
									<h5 class="subHeading" xmlns="">Examples</h5><div class="subSection" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
											<p xmlns="">To display the entire contents of the IP routing table, type:</p>
											<p xmlns="">         <b>route print</b>       </p>
											<p xmlns="">To display the routes in the IP routing table that begin with <i>10.</i>, type:</p>
											<p xmlns="">         <b>route print 10.*</b>       </p>
											<p xmlns="">To add a default route with the default gateway address of 192.168.12.1, type:</p>
											<p xmlns="">         <b>route add 0.0.0.0 mask 0.0.0.0 192.168.12.1</b>       </p>
											<p xmlns="">To add a route to the destination 10.41.0.0 with the subnet mask of 255.255.0.0 and the next hop address of 10.27.0.1, type:</p>
											<p xmlns="">         <b>route add 10.41.0.0 mask 255.255.0.0 10.27.0.1</b>       </p>
											<p xmlns="">To add a persistent route to the destination 10.41.0.0 with the subnet mask of 255.255.0.0 and the next hop address of 10.27.0.1, type:</p>
											<p xmlns="">         <b>route -p add 10.41.0.0 mask 255.255.0.0 10.27.0.1</b>       </p>
											<p xmlns="">To add a route to the destination 10.41.0.0 with the subnet mask of 255.255.0.0, the next hop address of 10.27.0.1, and the cost metric of 7, type:</p>
											<p xmlns="">         <b>route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 metric 7</b>       </p>
											<p xmlns="">To add a route to the destination 10.41.0.0 with the subnet mask of 255.255.0.0, the next hop address of 10.27.0.1, and using the interface index 0x3, type:</p>
											<p xmlns="">         <b>route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 if 0x3</b>       </p>
											<p xmlns="">To delete the route to the destination 10.41.0.0 with the subnet mask of 255.255.0.0, type:</p>
											<p xmlns="">         <b>route delete 10.41.0.0 mask 255.255.0.0</b>       </p>
											<p xmlns="">To delete all routes in the IP routing table that begin with <i>10.</i>, type:</p>
											<p xmlns="">         <b>route delete 10.*</b>       </p>
											<p xmlns="">To change the next hop address of the route with the destination of 10.41.0.0 and the subnet mask of 255.255.0.0 from 10.27.0.1 to 10.27.0.25, type:</p>
											<p xmlns="">         <b>route change 10.41.0.0 mask 255.255.0.0 10.27.0.25</b>       </p>
										</content></div>
								</sections></div>
						</sections></div>
				</sections></div><h2 class="heading">Formatting legend</h2><div id="sectionSection1" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
					<h3 class="subHeading" xmlns=""></h3><table xmlns=""><tr>
								<th colspan="1">
									Format
								</th>
								<th colspan="1">
									Meaning
								</th>
							</tr><tr>
							<td colspan="1">
								<p>               <i>Italic</i>             </p>
							</td>
							<td colspan="1">
								<p>Information that the user must supply</p>
							</td>
						</tr><tr>
							<td colspan="1">
								<p>               <b>Bold</b>             </p>
							</td>
							<td colspan="1">
								<p>Elements that the user must type exactly as shown</p>
							</td>
						</tr><tr>
							<td colspan="1">
								<p>Ellipsis (...)</p>
							</td>
							<td colspan="1">
								<p>Parameter that can be repeated several times in a command line</p>
							</td>
						</tr><tr>
							<td colspan="1">
								<p>Between brackets ([])</p>
							</td>
							<td colspan="1">
								<p>Optional items</p>
							</td>
						</tr><tr>
							<td colspan="1">
								<p>Between braces ({}); choices separated by pipe (|). Example: {even|odd}</p>
							</td>
							<td colspan="1">
								<p>Set of choices from which the user must choose only one</p>
							</td>
						</tr><tr>
							<td colspan="1">
								<p>               <code>Courier font</code>             </p>
							</td>
							<td colspan="1">
								<p>Code or program output</p>
							</td>
						</tr></table>
				</content></div><h2 class="heading"><span id="seeAlsoNoToggle">See Also</span></h2><div id="seeAlsoSection" class="section"><b>Command-line reference A-Z</b><b>Command shell overview</b><b>TCP/IP utilities and services</b><b>The IP routing table</b><br></div><!--[if gte IE 5]>
			<tool:tip element="seeAlsoToolTip" avoidmouse="false"/><tool:tip element="languageFilterToolTip" avoidmouse="false"/>
		<![endif]--></div><div id="footer"><hr><p></div></div></body></html>