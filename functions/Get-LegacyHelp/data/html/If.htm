<html dir="LTR" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:tool="http://www.microsoft.com/tooltip"><head><meta http-equiv="Content-Type" content="text/html; CHARSET=Windows-1252"><meta name="save" content="history"><title>If</title><link rel="stylesheet" type="text/css" href="../local/Classic.css"><script src="../local/script.js"></script></head><body><div><input type="hidden" id="userDataCache" class="userDataStyle"><input type="hidden" id="hiddenScrollOffset"></div><img id="dropDownImage" style="display:none; height:0; width:0;" src="../local/drpdown.gif"><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../local/drpdown_orange.gif"><img id="collapseImage" style="display:none; height:0; width:0;" src="../local/collapse.gif"><img id="expandImage" style="display:none; height:0; width:0;" src="../local/exp.gif"><img id="copyImage" style="display:none; height:0; width:0;" src="../local/copycode.gif"><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../local/copycodeHighlight.gif"><div id="header"><table width="100%" id="topTable"><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText"></span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">If</span></td></tr><tr id="headerTableRow3"><td></td></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p>Applies To: Windows Server 2008,Windows Vista</p>
<p>Performs conditional processing in batch programs. </p>

<p>For examples of how to use this command, see <a href="#BKMK_examples">Examples</a>.</p>
<h2 class="heading">Syntax</h2><div id="sectionSection0" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>if [not] ERRORLEVEL &lt;Number&gt; &lt;Command&gt; [else &lt;Expression&gt;]
if [not] &lt;String1&gt;==&lt;String2&gt; &lt;Command&gt; [else &lt;Expression&gt;]
if [not] exist &lt;FileName&gt; &lt;Command&gt; [else &lt;Expression&gt;]</pre></td></tr></table></span></div>

<p xmlns="">If command extensions are enabled, use the following syntax:</p>

<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>if [/i] &lt;String1&gt; &lt;CompareOp&gt; &lt;String2&gt; &lt;Command&gt; [else &lt;Expression&gt;]
if cmdextversion &lt;Number&gt; &lt;Command&gt; [else &lt;Expression&gt;]
if defined &lt;Variable&gt; &lt;Command&gt; [else &lt;Expression&gt;]</pre></td></tr></table></span></div>
</content></div><h2 class="heading">Parameters</h2><div id="sectionSection1" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
<h3 class="subHeading" xmlns=""></h3><table xmlns=""><tr>
<th colspan="1">
Parameter
</th>
<th colspan="1">
Description
</th></tr><tr>
<td colspan="1">
<p> not  </p>
</td>
<td colspan="1">
<p>Specifies that the command should be carried out only if the condition is false.</p>
</td></tr><tr>
<td colspan="1">
<p> errorlevel &lt;Number&gt; </p>
</td>
<td colspan="1">
<p>Specifies a true condition only if the previous program run by Cmd.exe returned an exit code equal to or greater than <i>Number</i>.</p>
</td></tr><tr>
<td colspan="1">
<p> &lt;Command&gt; </p>
</td>
<td colspan="1">
<p>Specifies the command that should be carried out if the preceding condition is met.</p>
</td></tr><tr>
<td colspan="1">
<p> &lt;String1&gt;==&lt;String2&gt; </p>
</td>
<td colspan="1">
<p>Specifies a true condition only if <i>String1</i> and <i>String2</i> are the same. These values can be literal strings or batch variables (for example, %1). You do not need to enclose literal strings in quotation marks.</p>
</td></tr><tr>
<td colspan="1">
<p> exist &lt;FileName&gt; </p>
</td>
<td colspan="1">
<p>Specifies a true condition if the specified file name exists.</p>
</td></tr><tr>
<td colspan="1">
<p> &lt;CompareOp&gt;</p>
</td>
<td colspan="1">
<p>Specifies a three-letter comparison operator. The following list represents valid values for <i>CompareOp</i>: </p>

<p><b>EQU</b>   Equal to</p>

<p><b>NEQ</b>   Not equal to</p>

<p><b>LSS</b>   Less than</p>

<p><b>LEQ</b>   Less than or equal to</p>

<p><b>GTR</b>   Greater than</p>

<p><b>GEQ</b>   Greater than or equal to</p>
</td></tr><tr>
<td colspan="1">
<p> /i </p>
</td>
<td colspan="1">
<p>Forces string comparisons to ignore case.  You can use <b>/i</b> on the <i>String1</i><b>==</b><i>String2</i> form of <b>if</b>. These comparisons are generic, in that if both <i>String1</i> and <i>String2</i> are comprised of numeric digits only, the strings are converted to numbers and a numeric comparison is performed.</p>
</td></tr><tr>
<td colspan="1">
<p> cmdextversion &lt;Number&gt;</p>
</td>
<td colspan="1">
<p>Specifies a true condition only if the internal version number associated with the command extensions feature of Cmd.exe is equal to or greater than the number specified. The first version is 1. It increases by increments of one when significant enhancements are added to the command extensions. The <b>cmdextversion</b> conditional is never true when command extensions are disabled (by default, command extensions are enabled).</p>
</td></tr><tr>
<td colspan="1">
<p> defined &lt;Variable&gt;</p>
</td>
<td colspan="1">
<p>Specifies a true condition if <i>Variable</i> is defined.</p>
</td></tr><tr>
<td colspan="1">
<p> &lt;Expression&gt; </p>
</td>
<td colspan="1">
<p>Specifies a command-line command and any parameters to be passed to the command in an <b>else</b> clause.</p>
</td></tr><tr>
<td colspan="1">
<p> /? </p>
</td>
<td colspan="1">
<p>Displays help at the command prompt.</p>
</td></tr></table>
</content></div><h2 class="heading">Remarks</h2><div id="sectionSection2" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
<ul xmlns=""><li class="unordered">
If the condition specified in an <b>if</b> clause is true, the command that follows the condition is carried out. If the condition is false, the command in the <b>if</b> clause is ignored and the command executes any command that is specified in the <b>else</b> clause. <br><br>
</li><li class="unordered">
When a program stops, it returns an exit code. To use exit codes as conditions, use <b>errorlevel</b>.<br><br>
</li><li class="unordered">
If you use <b>defined</b>, the following three variables are added to the environment: <b>%errorlevel%</b>, <b>%cmdcmdline%</b>, and <b>%cmdextversion%</b>.<br><br>

<ul><li class="unordered">
<b>%errorlevel% </b>expands into a string representation of the current value of the ERRORLEVEL environment variable. This assumes that there is not an existing environment variable with the name ERRORLEVEL—if there is, you will get that ERRORLEVEL value instead. <br><br>
</li><li class="unordered">
<b>%cmdcmdline%</b> expands into the original command line that was passed to Cmd.exe prior to any processing by Cmd.exe. This assumes that there is not an existing environment variable with the name CMDCMDLINE—if there is, you will get the CMDCMDLINE value instead.<br><br>
</li><li class="unordered">
<b>%cmdextversion%</b> expands into the string representation of the current value of <b>cmdextversion</b>. This assumes that there is not an existing environment variable with the name CMDEXTVERSION—if there is, you will get the CMDEXTVERSION value instead.<br><br>
</li></ul>
</li><li class="unordered">
You must use the <b>else</b> clause on the same line as the command after the <b>if</b>. <br><br>
</li></ul>
</content></div><a name="BKMK_examples"></a><a name="698b3fb9-532b-4c2b-af7f-179f8dc57131#BKMK_examples"></a><h2 class="heading">Examples</h2><div id="sectionSection3" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
<p xmlns="">To display the message "Cannot find data file" if the file Product.dat cannot be found, type: </p>

<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>if not exist product.dat echo Cannot find data file </pre></td></tr></table></span></div>

<p xmlns="">To format a disk in drive A and display an error message if an error occurs during the formatting process, type the following lines in a batch file: </p>

<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>:begin
@echo off
format a: /s
if not errorlevel 1 goto end
echo An error occurred during formatting.
:end
echo End of batch program.</pre></td></tr></table></span></div>

<p xmlns="">To delete the file Product.dat from the current directory or display a message if Product.dat is not found, type the following lines in a batch file:</p>

<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>IF EXIST Product.dat (
del Product.dat
) ELSE (
echo The Product.dat file is missing.
)</pre></td></tr></table></span></div>

<div class="alert" xmlns=""><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left"><img class="note" src="../local/note.gif">Note </th></tr><tr><td>
These lines can be combined into a single line as follows:<p>
</td></tr></table><p></div>

<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>IF EXIST Product.dat (del Product.dat) ELSE (echo The Product.dat file is missing.)</pre></td></tr></table></span></div>

<p xmlns="">To echo the value of the ERRORLEVEL environment variable after running a batch file, type the following lines in the batch file:</p>

<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>goto answer%errorlevel%
:answer1
echo Program had return code 1
:answer0
echo Program had return code 0
goto end
:end
echo Done! </pre></td></tr></table></span></div>

<p xmlns="">To go to the "okay" label if the value of the ERRORLEVEL environment variable is less than or equal to 1, type:</p>

<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>if %errorlevel% LEQ 1 goto okay</pre></td></tr></table></span></div>
</content><sections xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
<div class="subSection" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"></content><sections xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
<h4 class="subHeading" xmlns="">Additional references</h4><div class="subSection" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
<p xmlns=""><a href="338c0381-ad63-4a4c-bd2c-42c7a93821fe.htm">Command-Line Syntax Key</a></p>

<p xmlns=""><a href="698b3fb9-532b-4c2b-af7f-179f8dc57131.htm">If</a></p>

<p xmlns=""><a href="e0de1458-1f78-48ff-a746-c285a945a510.htm">Goto</a></p>
</content></div>
</sections></div>
</sections></div><!--[if gte IE 5]>
			<tool:tip element="languageFilterToolTip" avoidmouse="false"/>
		<![endif]--></div><div id="footer"><hr><p></div></div></body></html>