<html dir="LTR" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:tool="http://www.microsoft.com/tooltip"><head><meta http-equiv="Content-Type" content="text/html; CHARSET=Windows-1252"><meta name="save" content="history"><title>Djoin</title><link rel="stylesheet" type="text/css" href="../local/Classic.css"><script src="../local/script.js"></script></head><body><div><input type="hidden" id="userDataCache" class="userDataStyle"><input type="hidden" id="hiddenScrollOffset"></div><img id="dropDownImage" style="display:none; height:0; width:0;" src="../local/drpdown.gif"><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../local/drpdown_orange.gif"><img id="collapseImage" style="display:none; height:0; width:0;" src="../local/collapse.gif"><img id="expandImage" style="display:none; height:0; width:0;" src="../local/exp.gif"><img id="copyImage" style="display:none; height:0; width:0;" src="../local/copycode.gif"><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../local/copycodeHighlight.gif"><div id="header"><table width="100%" id="topTable"><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText"></span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">Djoin</span></td></tr><tr id="headerTableRow3"><td></td></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p>Applies To: Windows 7,Windows Server 2008 R2</p>
				<p>Provisions a computer account in a domain and requests an offline domain join when a computer restarts. For examples of how you can use this command, see <b>Examples</b>.</p>
			<h2 class="heading">Syntax</h2><div id="sectionSection0" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
					<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>djoin /provision /domain &lt;domain_name&gt; /machine &lt;destination computer&gt; /savefile &lt;filename.txt&gt; [/machineou &lt;OU name&gt;] [/dcname &lt;name of domain controller&gt;] [/reuse] [/downlevel] [/defpwd] [/nosearch] [/printblob]</pre></td></tr></table></span></div>
					<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>djoin /requestodj /loadfile &lt;filename.txt&gt; /windowspath &lt;path to the Windows directory of the offline image&gt; /localos</pre></td></tr></table></span></div>
				</content><sections xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
					<h3 class="subHeading" xmlns="">Parameters</h3><div class="subSection" xmlns=""><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
							<h3 class="subHeading" xmlns=""></h3><table xmlns=""><tr>
									<td>
										<p>Parameter</p>
									</td>
									<td>
										<p>Description</p>
									</td>
								</tr><tr>
									<td>
										<p>/provision</p>
									</td>
									<td>
										<p>Creates a computer account in Active Directory Domain Services (AD DS).</p>
									</td>
								</tr><tr>
									<td>
										<p>/domain &lt;domain name&gt;</p>
									</td>
									<td>
										<p>Specifies the name of the domain to join.</p>
									</td>
								</tr><tr>
									<td>
										<p>/machine &lt;destination computer&gt;</p>
									</td>
									<td>
										<p>Specifies the name of the computer that you want to join to the domain.</p>
									</td>
								</tr><tr>
									<td>
										<p>/machineou &lt;OU Name&gt;</p>
									</td>
									<td>
										<p>Specifies the name of the organizational unit (OU) in which you want the computer account to be created. By default, the computer account is created in the Computers container. </p>
									</td>
								</tr><tr>
									<td>
										<p>/dcname &lt;domain controller name&gt;</p>
									</td>
									<td>
										<p>Specifies the name of a specific domain controller that will create the computer account. If you do not specify a domain controller, the domain controller Locator (DC Locator) process is used to select a domain controller.</p>
									</td>
								</tr><tr>
									<td>
										<p>/reuse</p>
									</td>
									<td>
										<p>Specifies the reuse of any existing computer account. The password for the computer account will be reset.</p>
									</td>
								</tr><tr>
									<td>
										<p>/downlevel </p>
									</td>
									<td>
										<p>Supports the use of a domain controller that runs a version of Windows Server that is earlier than Windows Server 2008 R2.</p>
									</td>
								</tr><tr>
									<td>
										<p>/savefile &lt;filename.txt&gt;</p>
									</td>
									<td>
										<p>Saves provisioning data to a file.</p>
									</td>
								</tr><tr>
									<td>
										<p>/defpwd</p>
									</td>
									<td>
										<p>Uses the default machine account password (not recommended).</p>
									</td>
								</tr><tr>
									<td>
										<p>/nosearch</p>
									</td>
									<td>
										<p>Skips account conflict detention. Requires the <b>/DCName</b> parameter. </p>
									</td>
								</tr><tr>
									<td>
										<p>/printblob</p>
									</td>
									<td>
										<p>Returns a base64-encoded metadata blob for an answer file.</p>
									</td>
								</tr><tr>
									<td>
										<p>/requestodj</p>
									</td>
									<td>
										<p>Requests an offline domain join at the next start.</p>
									</td>
								</tr><tr>
									<td>
										<p>/Loadfile</p>
									</td>
									<td>
										<p>Specifies the output from a previous provisioning command.</p>
									</td>
								</tr><tr>
									<td>
										<p>/windowspath &lt;path to the Windows directory of the offline image&gt;</p>
									</td>
									<td>
										<p>Specifies the path to the Windows directory of the offline image. If you are using the <b>/localos</b> parameter, specify <b>%systemroot%</b> or <b>%windir%</b> as the value of the <b>/windowspath</b> parameter. </p>
									</td>
								</tr><tr>
									<td>
										<p>/localos</p>
									</td>
									<td>
										<p>Targets the local operating system installation, instead of an offline image, with the domain join information. If you use this parameter, the value that you specify for <b>/windowspath</b> should be <b>%systemroot%</b> or <b>%windir%</b>. Run this parameter only on a destination computer that you want to join to the domain. This parameter is blocked from being run on a domain controller. Because this parameter injects the blob data into the locally running operating system image, you must restart the computer to complete the domain join operation, as you must also do for an online domain join. </p>
									</td>
								</tr></table>
						</content></div>
				</sections></div><h2 class="heading">Remarks </h2><div id="sectionSection1" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
					<ul xmlns=""><li class="unordered">
							You can run Djoin.exe only on computers that run Windows 7 or Windows Server 2008 R2. The computer on which you run Djoin.exe to provision computer account data into AD DS must be running Windows 7 or Windows Server 2008 R2. The computer that you want to join to the domain must also be running Windows 7 or Windows Server 2008 R2.<br><br>
						</li><li class="unordered">
							By default, the Djoin.exe commands target a domain controller that runs Windows Server 2008 R2. However, you can specify an optional <b>/downlevel</b> parameter if you want to target a domain controller that is running a version of Windows Server that is earlier than Windows Server 2008 R2.<br><br>
						</li></ul>
				</content></div><a name="BKMK_Examples"></a><a name="57b936e6-d949-4d79-84c1-f45825d4719e#BKMK_Examples"></a><h2 class="heading">Examples</h2><div id="sectionSection2" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
					<p xmlns="">To provision a computer account named computer1 in the domain contoso.com and save the resulting metadata blob in a file named offlinedomainjoin.txt, run the following command at an elevated command prompt:</p>
					<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>djoin /provision /domain contoso.com /machine computer1 /savefile offlinedomainjoin.txt</pre></td></tr></table></span></div>
					<p xmlns="">To request an offline domain join for a local computer and inject the domain join information from a file named offlinedomainjoin.txt into the local operating system, run the following command at an elevated command prompt:</p>
					<div class="code" xmlns=""><span codelanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onfocusin="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" onfocusout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" src="../local/copycode.gif">Copy Code</span></th></tr><tr><td colspan="2"><pre>djoin /requestODJ /loadfile offlinedomainjoin.txt /windowspath %SystemRoot% /localos</pre></td></tr></table></span></div>
				</content></div><h2 class="heading">Additional references</h2><div id="sectionSection3" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">
					<ul xmlns=""><li>
							
								<a href="338c0381-ad63-4a4c-bd2c-42c7a93821fe.htm">Command-Line Syntax Key</a>
							<br><br>
						</li><li>
							
								<a href="http://go.microsoft.com/fwlink/?LinkId=195444" alt="" target="_blank"><linktext xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">Offline Domain Join (Djoin.exe) Step-by-Step Guide</linktext></a> (http://go.microsoft.com/fwlink/?LinkId=195444)<br><br>
						</li></ul>
				</content></div><!--[if gte IE 5]>
			<tool:tip element="languageFilterToolTip" avoidmouse="false"/>
		<![endif]--></div><div id="footer"><hr><p></div></div></body></html>